<!DOCTYPE html>
<html lang="en" prefix="bibo: http://purl.org/ontology/bibo/ w3p: http://www.w3.org/2001/02pd/rec54#" typeof="bibo:Document " dir="ltr">
<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
  <meta property="dc:language" content="en" lang="">
  <style>
    /*

github.com style (c) Vasily Polovnyov <vast@whiteants.net>

*/
    
    .hljs {
      display: block;
      overflow-x: auto;
      padding: 0.5em;
      color: #333;
      background: #f8f8f8;
    }
    
    .hljs-comment,
    .hljs-quote {
      color: #998;
      font-style: italic;
    }
    
    .hljs-keyword,
    .hljs-selector-tag,
    .hljs-subst {
      color: #333;
      font-weight: bold;
    }
    
    .hljs-number,
    .hljs-literal,
    .hljs-variable,
    .hljs-template-variable,
    .hljs-tag .hljs-attr {
      color: #008080;
    }
    
    .hljs-string,
    .hljs-doctag {
      color: #d14;
    }
    
    .hljs-title,
    .hljs-section,
    .hljs-selector-id {
      color: #900;
      font-weight: bold;
    }
    
    .hljs-subst {
      font-weight: normal;
    }
    
    .hljs-type,
    .hljs-class .hljs-title {
      color: #458;
      font-weight: bold;
    }
    
    .hljs-tag,
    .hljs-name,
    .hljs-attribute {
      color: #000080;
      font-weight: normal;
    }
    
    .hljs-regexp,
    .hljs-link {
      color: #009926;
    }
    
    .hljs-symbol,
    .hljs-bullet {
      color: #990073;
    }
    
    .hljs-built_in,
    .hljs-builtin-name {
      color: #0086b3;
    }
    
    .hljs-meta {
      color: #999;
      font-weight: bold;
    }
    
    .hljs-deletion {
      background: #fdd;
    }
    
    .hljs-addition {
      background: #dfd;
    }
    
    .hljs-emphasis {
      font-style: italic;
    }
    
    .hljs-strong {
      font-weight: bold;
    }
  </style>
  <style id="respec-mainstyle">
    /*****************************************************************
 * ReSpec 3 CSS
 * Robin Berjon - http://berjon.com/
 *****************************************************************/
    /* Override code highlighter background */
    
    .hljs {
      background: transparent !important;
    }
    /* --- INLINES --- */
    
    em.rfc2119 {
      text-transform: lowercase;
      font-variant: small-caps;
      font-style: normal;
      color: #900;
    }
    
    h1 acronym,
    h2 acronym,
    h3 acronym,
    h4 acronym,
    h5 acronym,
    h6 acronym,
    a acronym,
    h1 abbr,
    h2 abbr,
    h3 abbr,
    h4 abbr,
    h5 abbr,
    h6 abbr,
    a abbr {
      border: none;
    }
    
    dfn {
      font-weight: bold;
    }
    
    a.internalDFN {
      color: inherit;
      border-bottom: 1px solid #99c;
      text-decoration: none;
    }
    
    a.externalDFN {
      color: inherit;
      border-bottom: 1px dotted #ccc;
      text-decoration: none;
    }
    
    a.bibref {
      text-decoration: none;
    }
    
    cite .bibref {
      font-style: normal;
    }
    
    code {
      color: #C83500;
    }
    /* --- TOC --- */
    
    .toc a,
    .tof a {
      text-decoration: none;
    }
    
    a .secno,
    a .figno {
      color: #000;
    }
    
    ul.tof,
    ol.tof {
      list-style: none outside none;
    }
    
    .caption {
      margin-top: 0.5em;
      font-style: italic;
    }
    /* --- TABLE --- */
    
    table.simple {
      border-spacing: 0;
      border-collapse: collapse;
      border-bottom: 3px solid #005a9c;
    }
    
    .simple th {
      background: #005a9c;
      color: #fff;
      padding: 3px 5px;
      text-align: left;
    }
    
    .simple th[scope="row"] {
      background: inherit;
      color: inherit;
      border-top: 1px solid #ddd;
    }
    
    .simple td {
      padding: 3px 10px;
      border-top: 1px solid #ddd;
    }
    
    .simple tr:nth-child(even) {
      background: #f0f6ff;
    }
    /* --- DL --- */
    
    .section dd> p:first-child {
      margin-top: 0;
    }
    
    .section dd> p:last-child {
      margin-bottom: 0;
    }
    
    .section dd {
      margin-bottom: 1em;
    }
    
    .section dl.attrs dd,
    .section dl.eldef dd {
      margin-bottom: 0;
    }
    
    .respec-hidden {
      display: none;
    }
    
    @media print {
      .removeOnSave {
        display: none;
      }
    }
  </style>
  <meta property="dc:language" content="en" lang="">
  <title>Social Web Snark</title>



  <style>
    /*****************************************************************
 * ReSpec 3 CSS
 * Robin Berjon - http://berjon.com/
 *****************************************************************/
    /* --- INLINES --- */
    
    em.rfc2119 {
      text-transform: lowercase;
      font-variant: small-caps;
      font-style: normal;
      color: #900;
    }
    
    h1 acronym,
    h2 acronym,
    h3 acronym,
    h4 acronym,
    h5 acronym,
    h6 acronym,
    a acronym,
    h1 abbr,
    h2 abbr,
    h3 abbr,
    h4 abbr,
    h5 abbr,
    h6 abbr,
    a abbr {
      border: none;
    }
    
    dfn {
      font-weight: bold;
    }
    
    a.internalDFN {
      color: inherit;
      border-bottom: 1px solid #99c;
      text-decoration: none;
    }
    
    a.externalDFN {
      color: inherit;
      border-bottom: 1px dotted #ccc;
      text-decoration: none;
    }
    
    a.bibref {
      text-decoration: none;
    }
    
    cite .bibref {
      font-style: normal;
    }
    
    code {
      color: #C83500;
    }
    /* --- TOC --- */
    
    .toc a,
    .tof a {
      text-decoration: none;
    }
    
    a .secno,
    a .figno {
      color: #000;
    }
    
    ul.tof,
    ol.tof {
      list-style: none outside none;
    }
    
    .caption {
      margin-top: 0.5em;
      font-style: italic;
    }
    /* --- TABLE --- */
    
    table.simple {
      border-spacing: 0;
      border-collapse: collapse;
      border-bottom: 3px solid #005a9c;
    }
    
    .simple th {
      background: #005a9c;
      color: #fff;
      padding: 3px 5px;
      text-align: left;
    }
    
    .simple th[scope="row"] {
      background: inherit;
      color: inherit;
      border-top: 1px solid #ddd;
    }
    
    .simple td {
      padding: 3px 10px;
      border-top: 1px solid #ddd;
    }
    
    .simple tr:nth-child(even) {
      background: #f0f6ff;
    }
    /* --- DL --- */
    
    .section dd> p:first-child {
      margin-top: 0;
    }
    
    .section dd> p:last-child {
      margin-bottom: 0;
    }
    
    .section dd {
      margin-bottom: 1em;
    }
    
    .section dl.attrs dd,
    .section dl.eldef dd {
      margin-bottom: 0;
    }
    
    @media print {
      .removeOnSave {
        display: none;
      }
    }
  </style>
  <style>
    /* --- EXAMPLES --- */
    
    div.example-title {
      min-width: 7.5em;
      color: #b9ab2d;
    }
    
    div.example-title span {
      text-transform: uppercase;
    }
    
    aside.example,
    div.example,
    div.illegal-example {
      padding: 0.5em;
      margin: 1em 0;
      position: relative;
      clear: both;
    }
    
    div.illegal-example {
      color: red
    }
    
    div.illegal-example p {
      color: black
    }
    
    aside.example,
    div.example {
      padding: .5em;
      border-left-width: .5em;
      border-left-style: solid;
      border-color: #e0cb52;
      background: #fcfaee;
    }
    
    aside.example div.example {
      border-left-width: .1em;
      border-color: #999;
      background: #fff;
    }
    
    aside.example div.example div.example-title {
      color: #999;
    }
    
    table.th90 th {
      height: 140px;
      white-space: nowrap;
      transform: rotate(-90deg);
      max-width: 4em;
    }
    
    table.th90 th,
    table.th90 td {
      text-align: center;
    }
  </style>
  <link rel="stylesheet" href="https://www.w3.org/StyleSheets/TR/W3C-WD">
  <!--[if lt IE 9]><script src='https://www.w3.org/2008/site/js/html5shiv.js'></script><![endif]-->


  <link href="https://www.w3.org/StyleSheets/TR/2016/W3C-UD" rel="stylesheet">
  <!--[if lt IE 9]><script src='https://www.w3.org/2008/site/js/html5shiv.js'></script><![endif]-->
  <script type="application/json" id="initialUserConfig">
    {
      "specStatus": "unofficial",
      "shortName": "social-web-snark",
      "editors": [
      {
        "name": "Amy Guy",
        "url": "http://rhiaro.co.uk/",
        "company": "University of Edinburgh",
        "companyURL": "http://inf.ed.ac.uk/",
        "mailto": "amy@rhiaro.co.uk",
        "w3cid": "69000"
      }],
      "previousMaturity": "WD",
      "previousPublishDate": "2016-06-03",
      "edDraftURI": "https://sws.amy.gy",
      "wg": "Social Web Working Group",
      "wgURI": "https://www.w3.org/Social/WG",
      "wgPublicList": "public-socialweb",
      "wgPatentURI": "http://www.w3.org/2004/01/pp-impl/424242/status",
      "localBiblio":
      {
        "Webmention":
        {
          "title": "Webmention",
          "href": "http://www.w3.org/TR/webmention",
          "authors": [
            "Aaron Parecki"
          ],
          "status": "CR",
          "publisher": "W3C"
        },
        "ActivityStreams2":
        {
          "title": "ActivityStreams 2.0",
          "href": "http://www.w3.org/TR/activitystreams",
          "authors": [
            "James Snell",
            "Evan Prodromou"
          ],
          "status": "WD",
          "publisher": "W3C"
        },
        "AS1":
        {
          "title": "JSON Activity Streams 1.0.",
          "href": "http://activitystrea.ms/specs/json/1.0/",
          "authors": [
            "J. Snell",
            "M. Atkins",
            "W. Norris",
            "C. Messina",
            "M. Wilkinson",
            "R. Dolin"
          ],
          "status": "Unofficial",
          "publisher": "http://activitystrea.ms"
        },
        "Solid":
        {
          "title": "Solid",
          "href": "https://github.com/solid/solid-spec",
          "authors": [
            "Andrei Sambra"
          ],
          "status": "ED",
          "publisher": "http://solid.mit.edu"
        },
        "h-entry":
        {
          "title": "h-entry",
          "href": "http://microformats.org/wiki/h-entry",
          "authors": [
            "Tantek Çelik"
          ],
          "status": "Living Specification",
          "publisher": "microformats.org"
        },
        "Salmentions":
        {
          "title": "Salmentions",
          "href": "http://indiewebcamp.com/Salmention",
          "authors": [
            "Ben Roberts, Tantek Çelik"
          ],
          "status": "Living specification",
          "publisher": "IndieWebCamp"
        },
        "AnnotationProtocol":
        {
          "title": "Web Annotation Protocol",
          "href": "https://www.w3.org/TR/annotation-protocol/",
          "authors": [
            "Rob Sanderson"
          ],
          "status": "WD",
          "publisher": "W3C"
        },
        "AnnotationVocab":
        {
          "title": "Web Annotation Vocabulary",
          "href": "https://www.w3.org/TR/annotation-vocab/",
          "authors": [
            "Robert Sanderson",
            "Paolo Ciccarese",
            "Benjamin Young"
          ],
          "status": "WD",
          "publisher": "W3C"
        }
      }
    }
  </script>
</head>
<body id="respecDocument" role="document" class="h-entry">
  <div id="respecHeader" role="contentinfo" class="head">
    <p>
    </p>
    <h1 class="title p-name" id="title" property="dcterms:title">Social Web Snark</h1>
    <h2 id="unofficial-draft-17-july-2016">Unofficial Draft <time property="dcterms:issued" class="dt-published" datetime="2016-07-17">17 July 2016</time></h2>
    <dl>
      <dt>Latest editor's draft:</dt>
      <dd><a href="https://sws.amy.gy">https://sws.amy.gy</a></dd>
      <dt>Editor:</dt>
      <dd class="p-author h-card vcard" property="bibo:editor" resource="_:editor0" data-editor-id="69000"><span property="rdf:first" typeof="foaf:Person"><meta property="foaf:name" content="Amy Guy"><a class="u-url url p-name fn" property="foaf:homepage" href="http://rhiaro.co.uk/">Amy Guy</a>, <a property="foaf:workplaceHomepage" class="p-org org h-org h-card" href="http://inf.ed.ac.uk/">University of Edinburgh</a>, <span class="ed_mailto"><a class="u-email email" property="foaf:mbox" href="mailto:amy@rhiaro.co.uk">amy@rhiaro.co.uk</a></span></span>
        <span property="rdf:rest" resource="rdf:nil"></span>
      </dd>

    </dl>
    <p class="copyright">
      This document is licensed under a
      <a class="subfoot" href="http://creativecommons.org/licenses/by/3.0/" rel="license">Creative Commons
          Attribution 3.0 License</a>.
    </p>
    <hr title="Separator for header">
  </div>

  <section property="dc:abstract" class="introductory" id="abstract">
    <h2 resource="#h-abstract" id="h-abstract"><span property="xhv:role" resource="xhv:heading">Abstract</span></h2>
    <p>
      The Social Web Protocols are a collection of standards which supposedly enable various aspects of decentralised social interaction on the Web. This document describes all the compromises we made just so that we'd stop blocking each others' specs and grind to a halt entirely. It doesn't describe the hard stuff we haven't even got close to yet. It represents rhiaro's opinion when she's feeling frustrated, and not (necessarily) the opinion of the Social Web Working Group. It shouldn't be taken seriously. Or should it?
    </p>
  </section>

  <section id="sotd" class="introductory">
    <h2 resource="#h-sotd" id="h-sotd"><span property="xhv:role" resource="xhv:heading">Status of This Document</span></h2>
    <p>
      This document is merely a public working draft of a potential specification. It has no official standing of any kind and does not represent the support or consensus of any standards organisation.
    </p>

  </section>
  <nav id="toc">
    <h2 resource="#table-of-contents" id="table-of-contents" class="introductory"><span property="xhv:role" resource="xhv:heading">Table of Contents</span></h2>
    <ul role="directory" class="toc">
      <li class="tocline"><a class="tocxref" href="#overview"><span class="secno">1. </span>Overview</a>
        <ul class="toc">
          <li class="tocline"><a class="tocxref" href="#contents"><span class="secno">1.1 </span>Contents</a></li>
          <li class="tocline"><a class="tocxref" href="#swwg-drafts"><span class="secno">1.2 </span>Social Web Working Group Drafts</a></li>
          <li class="tocline"><a class="tocxref" href="#other-specs"><span class="secno">1.3 </span>Other specifications</a></li>
        </ul>
      </li>
      <li class="tocline"><a class="tocxref" href="#references"><span class="secno">A. </span>References</a>
        <ul class="toc">
          <li class="tocline"><a class="tocxref" href="#informative-references"><span class="secno">A.1 </span>Informative references</a></li>
        </ul>
      </li>
    </ul>
  </nav>


  <section property="bibo:hasPart" resource="#overview" typeof="bibo:Chapter" id="overview">
    <!--OddPage-->
    <h2 resource="#h-overview" id="h-overview"><span property="xhv:role" resource="xhv:heading"><span class="secno">1. </span>Overview</span></h2>

    <p>People (unfortunately) and the content they create (yay cat gifs) are the core components of the social web; they make up the social graph. This document describes multiple competing 'standard' ways in which people can:</p>

    <ul>
      <li>awkwardly friend their co-workers and watch their every move;</li>
      <li>post pictures of their breakfast and angry rants;</li>
      <li>like pictures of other people's breakfast and react with ignorant misinterpretations of current events;</li>
      <li>be notified when other people like their breakfast or hurl abuse;</li>
    </ul>

    <p>regardless of <em>what that content</em> is (breakfast/abuse) or <em>where it is stored</em>.</p>

    <p>These components are core building blocks for interoperable social systems.</p>

    <p>Each of these components can be implemented independently as needed, or all together in one system, as well as extended to meet domain-specific requirements. Users can store their social data across any number of compliant (compliant to what?) servers, and use compliant (to something else?) clients hosted elsewhere to interact with their own content and the content of others. Put simply, this document tells you, according the barely coherant recommendations of the Social Web Working Group:</p>

    <ul>
      <li>how to <a href="#reading">expose/consume</a> social content (reading).</li>
      <li><a href="#content-representation">what to post</a>, and where to, in order to <a href="#creating-content">create</a>, <a href="#updating">update</a> or <a href="#deleting">delete</a> content.</li>
      <li>how to <a href="#subscribing">ask for notifications</a> about content (subscribing).</li>
      <li>how to <a href="#delivery">deliver notifications</a> about content or users (delivery).</li>
      <li>how to expose <a href="#profiles">profiles</a> and <a href="#relationships">relationships</a>.</li>
    </ul>

    <section property="bibo:hasPart" resource="#contents" typeof="bibo:Chapter" id="contents">
      <h3 resource="#h-contents" id="h-contents"><span property="xhv:role" resource="xhv:heading"><span class="secno">1.1 </span>Contents</span></h3>

      <p>This is an overview of the current state of specifications of the Social Web Working Group. This document also describes Social Web Working Group specifications in context of W3C recommendations and relevant drafts from other communities outside of the Social Web Working Group as a desperate attempt to get you to see why we ended up like this. As many of these specs are under ongoing development, this document is subject to change alongside them, and alongside rhiaro's mental state.</p>

      <p>You might also want to take a look at the Working Group's <a href="https://www.w3.org/wiki/Socialwg/Social_API/Requirements">Social API Requirements</a> to understand the division of concerns.</p>

      <p>Due to the diversity of viable technical approaches proposed within the Working Group, the outputs may appear to outside observers as an abhorrent mess. The jury is out on the exciting and polarising debate over whether the ever-elusive 'real' developers literally only understand posting HTML forms and adding CSS classes to things; whether everything on the web is, always will be, and can only ever be plain JSON and everyone is happy agreeing on the same definitely unambiguous English language strings for keys; or whether the solution to world hunger is just around the corner if only we made everyone use RDF for everything. This debate is reflected in the bizarrely overlapping set of specs we have on the recommendation track. In many cases they are just different enough that attempts to merge them bring out the stubbornest sides of one or more WG members... yet so close that interoperability between them is possible if you squint some form-encoded variables into JSON, or JSON into JSON-LD. Why the hell are we asking these precious and delicate 'real' developers to do that, you might ask? Now the browser wars are over we've got to give them <em>something</em> to do, eh?</p>

    </section>

    <section property="bibo:hasPart" resource="#swwg-drafts" typeof="bibo:Chapter" id="swwg-drafts">
      <h3 resource="#h-swwg-drafts" id="h-swwg-drafts"><span property="xhv:role" resource="xhv:heading"><span class="secno">1.2 </span>Social Web Working Group Drafts</span></h3>

      <dl>

        <dt>ActivityPub [<a href="http://www.w3.org/TR/activitypub">WD</a>]</dt>
        <dd>Camp plain-JSON; but potentially friendly to RDF. Does bit of everything, depends on AS2 for data syntax and vocabulary.</dd>

        <dt>ActivityStreams 2.0 (AS2) [<a href="http://www.w3.org/TR/activitystreams-core">WD Core</a>, <a href="http://www.w3.org/TR/activitystreams-vocabulary">WD Vocab</a>]</dt>
        <dd>Camp plain-JSON; syntax and vocabulary. Extended the hand of friendship to RDF with a JSON-LD <code>context</code>, but rebuffed because it has its own media type.</dd>

        <dt>JF2 [<a href="http://dissolve.github.io/jf2/">WD (Note)</a>]</dt>
        <dd>Camp plain-JSON; syntax and not-really-vocabulary-but-actually-its-microformats2. Mentions JSON-LD because everyone is doing it, but doesn't really mean it. Different to AS2 only in that it puts object-type semantics in properties instead of giving things explicit types. Tomato tomato.</dd>

        <dt>Linked Data Notifications [<a href="https://linkedresearch.org/ldn/">ED</a>]</dt>
        <dd>You have to parse RDF to find the endpoint, but once you're there you can post whatever you like. As long as its RDF. JK, you can do discovery through Link headers too but watch out in case you dilute the RDF purity. JSON-LD is fine, but only as a gateway drug to Turtle. Even though AS2 is basically RDF its media type is icky so none of that please.</dd>

        <dt>Micropub [<a href="http://www.w3.org/TR/micropub">WD</a>]</dt>
        <dd>If everyone <em>just</em> agrees to use the microformats2 vocabulary, or your own arbitrary keys as long as they're structured according to the original mf2 parsing spec (no silly not JF2) then anyone's form can POST to anyone else's endpoint. Interoperability success!</dd>

        <dt>Post Type Discovery [<a href="https://tantek.github.io/post-type-discovery/">ED</a>]</dt>
        <dd>A handy list of arbitrary rules to convert unstable mf2 terms structured as JF2 JSON into non-existent AS2 typed activities.</dd>

        <dt>Social Web Protocols [<a href="http://w3.org/TR/social-web-protocols">WD</a>]</dt>
        <dd>A desperate attempt to prove we know what we're doing. Loves and hates all of the specs equally. But some more than others.</dd>

        <dt>Webmention [<a href="http://www.w3.org/TR/webmention">CR</a>]</dt>
        <dd>Form-encoded pingback. Assumes you're publishing links to things at public URLs. 'Simple' but you probably need an HTML parser to get anything done. Where do webmentions go when they're sent? None of this spec's business. Can be used to unwittingly launch drones.</dd>
      </dl>

    </section>

    <section property="bibo:hasPart" resource="#other-specs" typeof="bibo:Chapter" id="other-specs">
      <h3 resource="#h-other-specs" id="h-other-specs"><span property="xhv:role" resource="xhv:heading"><span class="secno">1.3 </span>Other specifications</span></h3>

      <dl>

        <dt>ActivityStreams 1.0 [<a href="http://activitystrea.ms/specs/json/1.0/">External</a>]</dt>
        <dd>The predecessor to [<cite><a href="#bib-ActivityStreams2" class="bibref">ActivityStreams2</a></cite>]. Abundance of implementers are hiding around here somewhere under one of these rocks.</dd>

        <dt>Annotation Protocol [<a href="https://www.w3.org/TR/annotation-protocol/">WAWG CR</a>]</dt>
        <dd>Do LDP <em>this way</em>.</dd>

        <dt>Linked Data Platform [<a href="https://www.w3.org/TR/ldp/">LDP REC</a>]</dt>
        <dd>HTTP verbs and RDF, what more could you need?</dd>

        <dt>Solid [<a href="http://github.com/solid/solid-spec">ED</a>] (External with SWWG representation)</dt>
        <dd>Dear LDP, to answer your previous question: authentication, user profiles, access control, a type registry, SPARQL, ...</dd>

      </dl>

    </section>

    <!---<section id="requirements">
      <h3>Requirements</h3>
      <p>This table shows the high level requirements according to the <a href="https://www.w3.org/2013/socialweb/social-wg-charter.html">Social Web Working Group charter</a> and the <a href="https://www.w3.org/wiki/Socialwg/Social_API/Requirements">Social API Requirements</a>, and how the specifications of the Working Group overlap with respect to each.</p>
      <table class="th90">
        <tr>
          <th></th>
          <th><a href="#content-representation">Vocabulary</a></th>
          <th><a href="#content-representation">Syntax</a></th>
          <th><a href="#reading">Read</a></th>
          <th><a href="#creating-content">Create</a></th>
          <th><a href="#updating">Update</a></th>
          <th><a href="#deleting">Delete</a></th>
          <th><a href="#subscribing">Subscription</a></th>
          <th><a href="#delivery">Delivery</a></th>
          <th><a href="#profiles">Profiles</a></th>
        </tr>
        <tr>
          <td style="text-align:left;">ActivityPub</td>
          <td></td>
          <td></td>
          <td>X</td>
          <td>X</td>
          <td>X</td>
          <td>X</td>
          <td>X</td>
          <td>X</td>
          <td>X</td>
        </tr>
        <tr>
          <td style="text-align:left;">ActivityStreams 2.0</td>
          <td>X</td>
          <td>X</td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
        </tr>
        <tr>
          <td style="text-align:left;">jf2</td>
          <td>X</td>
          <td>X</td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
        </tr>
        <tr>
          <td style="text-align:left;">Linked Data Notifications</td>
          <td></td>
          <td></td>
          <td>X</td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td>X</td>
          <td></td>
        </tr>
        <tr>
          <td style="text-align:left;" style="text-align:left;">Micropub</td>
          <td></td>
          <td></td>
          <td></td>
          <td>X</td>
          <td>X</td>
          <td>X</td>
          <td></td>
          <td></td>
          <td></td>
        </tr>
        <tr>
          <td style="text-align:left;">Post-type discovery<br></td>
          <td></td>
          <td></td>
          <td>X</td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
        </tr>
        <tr>
          <td style="text-align:left;">Webmention</td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td>X</td>
          <td></td>
        </tr>
      </table>
    </section>
  </section>

  <section id="reading">
  <h2>Reading</h2>

    <p>If you are a content publisher, this section is about how you should publish your content. If you are a content consumer, this is what you should expect to consume.</p>

    <section id="content-representation">
      <h3>Content representation</h3>
      
      <p>Content MUST be available as [[ActivityStreams2]] JSON and MAY additionally be served as an alternative syntax. If a URL does not return [[ActivityStreams2]] JSON, consumers SHOULD look for the JSON format via a <code>rel="alternate" type="application/activity+json"</code> link (which could be to a different domain, for third-party services which dynamically generate [[ActivityStreams2]] JSON on behalf of the publisher). [[ActivityStreams2]] content MUST be served with the Content-Type <code>application/activity+json</code> or, if necessary for JSON-LD extended implementations, <code>application/ld+json; profile="http://www.w3.org/ns/activitystreams"</code>.</p>
      
      <p>Content MUST be described using the [[ActivityStreams2]] vocabulary, and MAY use other vocabularies in addition or instead, per the [[ActivityStreams2]] extension mechanism.</p>

      <p>[[ActivityStreams2]] builds upon [[AS1]] and is not fully backwards compatible; <a href="http://www.w3.org/TR/activitystreams-core#activitystreams-1.0">the relationship between AS1 and AS2 is documented in the AS2 spec</a>. If you have implemented [[AS1]], you should transition to [[ActivityStreams2]].

      <p><strong>[[Activitypub]]</strong> exposes all content as [[ActivityStreams2]] JSON.</p>

    </section>
    <section id="objects">
      <h3>Objects</h3>
    
      <p>All objects MUST have URLs in the <code>id</code> property, which return the properties of an object according to <a href="#content-representation">content representation</a>, and depending on the requester's right to access the content.</p>
    </section>
    <section id="streams">
      <h3>Streams</h3>
    
      <p>Each stream MUST have a URL which MUST result in the contents of the stream (according to the requester's right to access, and could be paged), and MAY include additional metadata about the stream (such as title, description).</p>
      
      <p>Each <a href="#objects">object</a> in a stream MUST contain at least its URL, which can be dereferenced to retrieve all properties of the object, and MAY contain other properties of the object.</p>
      
      <p>One user may publish one or more streams of content. Streams may be generated automatically or manually, and might be segregated by post type, topic, audience, or any arbitrary criteria decided by the curator of the stream. A user <a href="#profiles">profile</a> MAY include links to multiple streams, which a consumer could follow to read or subscribe to.</p>
      
      <p><strong>[[Activitypub]]</strong> specifies four feeds that MUST be accessible from a profile via the following properties:</p>

      <ul>
        <li><code>inbox</code>: A reference to an [[ActivityStreams2]] collection comprising of all the messages received by the actor.</li>
        <li><code>outbox</code>: An [[ActivityStreams2]] collection comprising of all the messages produced by the actor.</li>
        <li><code>following</code>: An [[ActivityStreams2]] collection of the actors that this actor is following.</li>
        <li><code>followers</code>: An [[ActivityStreams2]] collection of the actors that follow this actor.</li>
      </ul>

      <p>[[Activitypub]] also specifies a further property for accessing additional feeds, which MAY be included in a profile:</p>

      <ul>
        <li><code>streams</code>: A list of supplementary Collections which may be of interest. </li>
      </ul>
      
      <p class="issue">Activitypub discovery mechanism for this to be specified, likely link relations per <a href="https://github.com/w3c-social/activitypub/issues/50">issue 50</a>.</p>

      <p>[[Activitypub]] specifies special behavior for activities with types <code>Add</code> and <code>Remove</code>. When a server receives such an activity in the <code>outbox</code>, and the <code>target</code> is a Collection, it MUST add the <code>object</code> to the <code>target</code> (for <code>Add</code>) or remove the <code>object</code> from the <code>target</code> (for <code>Remove</code>).

    </section>
  </section>

  <section id="creating-content">
    <h2>Creating content</h2>

    <p>Content generated through a client (such as a web form, mobile app, smart device) is created when it is sent to a server for processing, where it is typically stored and usually published (either publicly or to a restricted audience). Clients and servers may independently support creating, updating and deleting; there are no dependencies between them. Authentication and authorization for creating content is left out of scope.</p>

    <p><strong>[[Activitypub]]</strong> clients discover the <code>outbox</code> of the authenticated user from their JSON profile, then make an HTTP POST request with an appropriate [[ActivityStreams2]] activity as a JSON payload. [[Activitypub]] requires use of the [[ActivityStreams2]] vocabulary and syntax, which may be extended with JSON-LD. The URL of the created resource is generated at the discretion of the server. This is an appropriate protocol to use when:</p>

    <ul>
      <li>You want to send/receive a JSON or JSON-LD payload.</li>
      <li>Your data is described with [[ActivityStreams2]] (optionally extensible via JSON-LD).</li>
    </ul>

    <p><strong>[[Micropub]]</strong> clients discover the Micropub endpoint from the current user's homepage (likely entered by the user as part of authentication) from a <code>rel="micropub"</code> link, then make a <code>x-www-form-urlencoded</code> POST request containing the key-value pairs for the attributes of the object being created. The URL of the created resource is generated at the discretion of the server. Micropub requires use of the Microformats 2 [[h-entry]] vocabulary, as well as a set of reserved attributes as commands to the server. Any additional key names sent outside of this vocabulary may be ignored by the server.</p>

    <p>[[Micropub]] requests may alternatively be sent as a JSON payload, the syntax of which is derived from the Microformats 2 parsing algorithm. This is an appropriate protocol to use when:</p>

    <ul>
      <li>You want to send/receive a form-encoded or JSON payload.</li>
      <li>Your data is described with the [[h-entry]] syntax and vocabulary.</li>
      <li>You can rely on out-of-band agreements between clients and servers for vocabulary extensibility.</li>
    </ul>

    <p><strong>[[LDP]]</strong> servers are written to by sending an HTTP POST request to a <code>Container</code> (any resource on the server which returns <code>Link: &lt;http://www.w3.org/ns/ldp#Container&gt;; rel="type"</code>), containing an RDF payload with attributes of the object being created. An identifier for the created resource is generated at the discretion of the server. The URL is created by appending the identifier to the URL of the <code>Container</code> that was posted to. [[Solid]] and [[AnnotationProtocol]] both use slightly altered [[LDP]] to create content; [[Solid]] restricts use to only Basic Containers, while the [[AnnotationProtocol]] specifies the [[AnnotationVocab]] and primary syntax as JSON-LD. This is an appropriate protocol to use when:</p>

    <ul>
      <li>Your data is represented as RDF.</li>
      <li>Clients and servers are vocabulary agnostic.</li>
      <li>You prefer a more RESTful API.</li>
    </ul>

    <section id="updating">
      <h3>Updating</h3>
      
      <p>Content is updated when a client sends changes to attributes (additions, removals, replacements) to an existing object. If a server has implemented a <a href="#delivery">delivery</a> or <a href="#subscribing">subscription</a> mechanism, when an object is updated, the update MUST be propagated to the original recipients using the same mechanism.</p>

      <p><strong>[[Activitypub]]</strong> clients replace the complete object by sending an HTTP POST request containing an [[ActivityStreams2]] <code>Update</code> activity to the <code>outbox</code> of the authenticated user, where the <code>object</code> is a nested object, including an <code>id</code>, which serves as the replacement.</p>

      <p class="issue">ActivityPub currently only supports updates of a whole object at once. <a href="https://github.com/w3c-social/activitypub/issues/85">Issue 85 for partial updates</a>.</p>

      <p><strong>[[Micropub]]</strong> clients perform updates, as either form-encoded or JSON POST requests, using the <code>mp-action=update</code> parameter, as well as a <code>replace</code>, <code>add</code> or <code>delete</code> property containing the updates to make, to the Micropub endpoint (discovery described in <a href="#creating-content">creating</a>). <code>replace</code> replaces all values of the specified property. If the property does not exist already, it is created. <code>add</code> adds new values to the specified property without changing the existing ones. If the property does not exist already, it is created. <code>delete</code> removes the specified property; you can also remove properties by value by specifying the value.</p>

      <p><strong>[[LDP]]</strong> clients perform replacement-style updates by sending an HTTP PUT request to the URL of the object to be updated. Partial-style updates are performed with an HTTP PATCH request.</p>
      

    </section>
    <section id="deleting">
      <h3>Deleting</h3>
      
      <p>ontent is deleted when a client sends a request to delete an existing object. If a server has implemented a <a href="#delivery">delivery</a> or <a href="#subscribing">subscription</a> mechanism, when an object is deleted, the deletion MUST be propagated to the original recipients using the same mechanism.</p>

      <p><strong>[[Activitypub]]</strong> clients delete an object by sending an HTTP POST request containing an [[ActivityStreams2]] <code>Delete</code> activity to the <code>outbox</code> of the authenticated user. Servers MUST <em>replace</em> the <code>object</code> of this activity with a tombstone, and return a <code>410 Gone</code> status code from its URL.</p>

      <p><strong>[[Micropub]]</strong> delete requests are two key-value pairs, in form-encoded or JSON: `mp-action`: `delete` and `url`: `url-to-be-deleted`, sent to the Micropub endpoint (discovery described in <a href="#creating-content">creating</a>).</p>

      <p><strong>[[LDP]]</strong> deletes are performed by sending an HTTP DELETE request to the URL of the object to be deleted.</p>
      
  </section>
</section>
  <section id="subscribing">
    <h2>Subscribing</h2>

    <p>An agent (client or server) may <em>ask</em> to be notified of changes to a content object (eg. edits, new replies) or stream of content (eg. objects added or removed from a particular stream). This is <em>subscribing</em>. A server may also receive notifications of changes to content it has <em>not subscribed</em> to: see <a href="#delivery">delivery</a>.</p>
    
    <p class="issue">Working group has yet to discuss this in depth, subject to significant change.</p>

    <p><strong>[[Activitypub]]</strong> servers distribute the activities of an actor by sending POST requests containing the activities as JSON payloads to the <code>inbox</code> of all actors in an actor's <code>Followers</code> collection. For subscription requests, special behavior is defined for servers when an [[ActivityStreams2]] <code>Follow</code> activity is appears in an actor's <code>outbox</code> or <code>inbox</code>.</p> 

    <ul>
      <li>For <code>outbox</code> (an outgoing subscription request): The activity is <a href="#delivery">delivered</a> as usual to the <code>object</code>'s <code>inbox</code>, and additionally the <code>object</code> is added to the actor's <code>Following</code> collection.</li>
      <li>For <code>inbox</code> (an incoming subscription request): The recipient's (the <code>object</code> of the <code>Follow</code> activity) server adds the <code>actor</code> of the <code>Follow</code> activity to the recipient's <code>Followers</code> collection, to which all new activities of the recipient are subsequently delivered.</li>
    </ul>
    <p>It works when the publisher and subscriber are on different domains, thus serving as a federation protocol. This is a suitable subscription mechanism when:</p>

    <ul>
      <li>The objects and streams being subscribed to are described with [[ActivityStreams2]].</li>
      <li>The subscriber wants to request updates from a specific actor (rather than objects, streams or threads, see <a href="https://github.com/w3c-social/activitypub/issues/80">issue 80</a>.</li>
      <li>You need to send or receive the whole requested resource over the wire (ie. a 'fat ping').</li>
      <li>You need to send or receive JSON payloads only.</li>
      <li>Subscriptions requests and fulfillment are handled server-side.</li>
      <li>The publisher is aware of who has subscribed; this is a <em>push</em> mechanism.</li>
    </ul>

    <p><strong>[[Solid]]</strong> uses websockets to allow client-side applications to subscribe to changes in objects ([[LDP]] Resources) and streams ([[LDP]] Containers). The websocket endpoint is advertised in the <code>Updates-Via</code> HTTP Link Header. The subscriber sends the keyword <code>sub</code> followed by an empty space and then the URI of the resource, to the target’s websockets URI. The target’s server sends a websockets message containing the keyword <code>pub</code>, followed by an empty space and the URI of the resource that has changed, whenever there is a change. It works when the publisher and subscriber are on different domains, thus serving as a federation protocol. This is a suitable subscription mechanism when:</p>
 
    <ul>
      <li>You send live updates over websockets.</li>
      <li>You can send and receive on the URL of the requested resource over the wire (ie. a 'thin ping').</li>
      <li>Subscriptions are requested client-side and fulfilled server-side.</li>
      <li>The publisher is aware of who has subscribed; this is a <em>push</em> mechanism.</li>
    </ul>

    <p><strong>[[Webmention]]</strong> can be deployed as a subscription mechanism through the [[Salmentions]] extension. Documents contain links to the sources of received webmentions along with the content. Every time the document is updated, including when new incoming webmentions are added, the server (re-)sends webmentions to every link. Thus, all documents which originally sent a webmention receive a webmention back, enabling them to parse the document for changes, and detect new replies in a thread, as well as changes to the original document. It works when the publisher and subscriber are on different domains, thus serving as a federation protocol. This is a suitable subscription mechanism when:</p>

    <ul>
      <li>The subscriber wants to subscribe to a specific thread or object.</li>
      <li>The subscriber has a document which links to that thread or object, and has sent a [[Webmention]] about it.</li>
      <li>The publisher displays links to the sources of received webmentions with their content.</li> 
      <li>The subscriber has linked to a document and wants to be notified of further changes.</li>
      <li>The subscriber has implemented [[Webmention]] receiving.</li>
      <li>The publisher is aware of who has subscribed; this is a <em>push</em> mechanism.</li>
    </ul>
    
    <p>Other options yet to be debated...</p>
    
    <ul>
      <li><strong>Web Push Protocol</strong>: The subscriber follows the <code>urn:ietf:params:push</code> link relation to the target’s Push Service, and then <a href="https://tools.ietf.org/html/draft-ietf-webpush-protocol-02#section-4">Subscribes for Push Messages</a></li>
      <li><strong>PubSubHubbub</strong>: The subscriber discovers the target’s hub, and sends a form-encoded <code>POST</code> request containing values for <code>hub.mode</code> (“subscribe”), <code>hub.topic</code> and <code>hub.callback</code>. When the target posts new content, the target’s server sends a form-encoded <code>POST</code> to the hub with values for <code>hub.mode</code> (“publish”) and <code>hub.url</code> and the hub checks the URL for new content and <code>POST</code>s updates to the subscriber’s callback URL. (<em>See <a href="http://pubsubhubbub.github.io/PubSubHubbub/pubsubhubbub-core-0.4.html">PuSH 0.4</a> and <a href="http://indiewebcamp.com/How_to_publish_and_consume_PubSubHubbub">How To Publish And Consume PuSH</a></em>)</li>
      <li>Pull, ie. just reading an [[ActivityStreams2]] feed.</li>
    </ul>

    <p class="note">Nothing should rely on implementation of a subscription mechanism.</p>
    
  </section>
  <section id="delivery">
    <h2>Delivery</h2>
    
    <p>A user or application may wish to push a notification to another user, for example because they have linked to (replied, liked, bookmarked, reposted, …) their content or linked to (tagged, addressed) the user directly, or to make the recipient aware of a change in state of some document or resource on the Web.</p>

    <p><strong>[[Webmention]]</strong> provides an API for sending and receiving notifications when a relationship is created between two documents. It works when the two documents are on different domains, thus serving as a federation protocol. This is a suitable notification mechanism when:</p>

    <ul>
      <li>You have a document (source) which links to another document (target).</li>
      <li>The owner of the target has access to view the source (so that their webmention endpoint can parse the source and check the claimed link exists).</li>
      <li>The only data you need to send over the wire are the URLs of the source and target documents (ie. a 'thin ping').</li>
    </ul>

    <p>Discovery of the [[Webmention]] endpoint (a script which can process incoming webmentions) is through a link relation (<code>rel="webmention"</code>), either in the HTTP Header or body of the target. This endpoint does not need to be on the same domain as the target, so webmention receiving can be delegated to a third party.</p>

    <p>[[Webmention]] uses <code>x-www-form-urlencoded</code> for the source and target as parameters in an HTTP POST request. This means a webmention can be triggered from a web form or from the commandline with <code>curl</code>. Integration with existing applications is straightforward through translating this form-encoded data into JSON, RDF (<a href="http://www.w3.org/ns/webmention#">namespace</a>), or another preferred syntax at the recievers end if necessary. There are no constraints on the syntax of the source and target documents.</p>

    <p>[[Webmention]] can be extended by adding additional parameters to the POST request; applications must have prior agreement in order to understand them, and there is potential for collision of extension terms.</p>
    
    <p><strong>[[Activitypub]]</strong> provides a JSON-based API for sending and receiving [[ActivityStreams2]] activities as notifications. It works when the two documents are on different domains, thus serving as a federation protocol. This is a suitable notification mechanism when:</p>

    <ul>
      <li>You describe the notification with [[ActivityStreams2]].</li>
      <li>You need to send or receive the whole notification over the wire (ie. a 'fat ping').</li>
      <li>You need to send or receive JSON payloads only.</li>
      <li>You need to add additional properties to your notifications unambiguously with JSON-LD.</li>
      <li>You need to send the same notification to multiple users from one activity.</li>
    </ul>

    <p>The endpoint which processes incoming notifications is a user's [[Activitypub]] <code>inbox</code>, discoverable from the target user's profile. The recipient user may be addressed directly (through <code>object</code>, <code>target</code>, <code>to</code>, <code>cc</code>, and/or <code>bcc</code>), and/or inferred as the owner of another resource which is addressed (through <code>object</code>, <code>target</code> and/or <code>inReplyTo</code>).</p>

    <p>An [[Activitypub]] server delivers the entire activity to all discovered endpoints as a JSON payload of an HTTP POST request.</p>

    <p>An [[Activitypub]] server receiving such an activity must verify the notification is accurate (by fetching the source, or some prior trust arrangement with the sender, eg. through an authentication token or digital signature).</p>

    <p>[[Activitypub]] delivery can be extended through the [[ActivityStreams2]] extension mechanism, with JSON-LD.</p>

    <p class="issue">Add Solid Notifications for pure RDF usage.</p>

    <p class="note"><em>Note: we need to leave it open for users to refuse content they have not explicitly subscribed to, ie. nothing else should rely on implementation of Delivery.</em></p>
  </section>
  </section>
  <section id="profiles">
      <h2>Profiles</h2>

      <p class="issue">Stub, needs expansion</p>

      <p>The subject of a profile document can be a person, persona, organisation, bot, location, … the type of the subject of the profile is not required. Each profile document MUST have a URL which SHOULD return attributes of the subject of the profile; SHOULD return at least one link to <a href="#reading">a stream of content</a> and MAY return content the subject has created. A JSON format MUST be available; other content types MAY be returned as well.</p>
      
      <section id="relationships">
        <h3>Relationships</h3>
      
        <p>Semantics and representation of personal relationships are implementation specific. This specification deals with relationships only when distribution of content is affected, for example if one user ‘friending’ another triggers a subscription request from the first user’s server to the second. Lists of other relationships MAY be discoverable from a user profile, SHOULD be represented according to the ActivityStremas 2 syntax and MAY (and are likely to) use extension vocabularies as needed.</p>
        
        <ul>
          <li><strong>Activitypub:</strong> When a server receives a <code>Follow</code> Activity in its <code>inbox</code>, the subject is added to a <code>Followers</code> <code>Collection</code>, which is discoverable from the subject’s profile.</li>
        </ul>
      </section>
      
      <section id="authorization-and-access-control">
        <h3>Authorization and access control</h3>
      
        <p>Servers may restrict/authorize access to content however they want?</p>
        
        <ul>
          <li><strong>ActivityPub:</strong> see <a href="http://w3c-social.github.io/activitypub/#authorization">auth</a></li>
          <li><strong>Indieweb:</strong> see <a href="https://indiewebcamp.com/private_posts">private posts</a>, <a href="https://indiewebcamp.com/private-webmention">private webmention</a></li>
          <li><strong>Solid:</strong> see <a href="https://github.com/solid/solid-spec#web-access-control">acl</a></li>
        </ul>
      </section>-->
  </section>



  <section property="bibo:hasPart" resource="#references" typeof="bibo:Chapter" id="references" class="appendix">
    <!--OddPage-->
    <h2 resource="#h-references" id="h-references"><span property="xhv:role" resource="xhv:heading"><span class="secno">A. </span>References</span></h2>

    <section property="bibo:hasPart" resource="#informative-references" typeof="bibo:Chapter" id="informative-references">
      <h3 resource="#h-informative-references" id="h-informative-references"><span property="xhv:role" resource="xhv:heading"><span class="secno">A.1 </span>Informative references</span></h3>
      <dl resource="" class="bibliography"><dt id="bib-ActivityStreams2">[ActivityStreams2]</dt>
        <dd>James Snell; Evan Prodromou. W3C. <a property="dc:references" href="http://www.w3.org/TR/activitystreams"><cite>ActivityStreams 2.0</cite></a>. W3C Working Draft. URL: <a property="dc:references" href="http://www.w3.org/TR/activitystreams">http://www.w3.org/TR/activitystreams</a>
        </dd>
      </dl>
    </section>
  </section>
  <p role="navigation" id="back-to-top"><a href="#toc"><abbr title="Back to Top">↑</abbr></a></p>
  <script src="https://www.w3.org/scripts/TR/2016/fixup.js"></script>
</body>
</html>